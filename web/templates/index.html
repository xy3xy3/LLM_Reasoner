{% extends "base.html" %} {% block content %}
<div class="layui-container">
  <div class="layui-row">
    <div class="layui-col-xs12">
      <div class="layui-card">
        <div
          class="layui-card-header"
          style="padding-top: 15px; padding-bottom: 15px; height: auto"
        >
          <!-- 搜索框 -->
          <form class="layui-form" action="" id="searchForm">
            <div class="layui-form-item">
              <div class="layui-inline">
                <label class="layui-form-label">文件</label>
                <div class="layui-input-block">
                  <select name="filePath" lay-verify="required" id="fileSelect">
                    <!-- 动态加载日志文件选项将会在这里 -->
                  </select>
                </div>
              </div>
              <div class="layui-inline">
                <label class="layui-form-label">搜索内容</label>
                <div class="layui-input-inline">
                  <input
                    type="text"
                    name="search"
                    placeholder="请输入搜索内容"
                    autocomplete="off"
                    class="layui-input"
                  />
                </div>
              </div>
              <div class="layui-inline">
                <label class="layui-form-label">一致性</label>
                <div class="layui-input-inline">
                  <select name="filterSame" lay-verify="required">
                    <option value="all" selected>全部</option>
                    <option value="true">相同</option>
                    <option value="false">不同</option>
                  </select>
                </div>
              </div>
              <div class="layui-inline">
                <label class="layui-form-label">标注</label>
                <div class="layui-input-inline">
                  <select name="filterLabel" lay-verify="required">
                    <option value="all" selected>全部</option>
                    <option value="True">True</option>
                    <option value="False">False</option>
                    <option value="Unknown">Unknown</option>
                  </select>
                </div>
              </div>
              <div class="layui-inline">
                <label class="layui-form-label">AI标签</label>
                <div class="layui-input-inline">
                  <select name="filterAILabel" lay-verify="required">
                    <option value="all" selected>全部</option>
                    <option value="True">True</option>
                    <option value="False">False</option>
                    <option value="Unknown">Unknown</option>
                    <option value="Error">Error</option>
                  </select>
                </div>
              </div>
              <button class="layui-btn" lay-submit lay-filter="doSearch">
                搜索
              </button>
              <button class="layui-btn" lay-submit lay-filter="refresh">
                刷新数据列表
              </button>
            </div>
          </form>
        </div>
        <div class="layui-card-body">
          <!-- 显示正确率和错误数量 -->
          <div style="padding-bottom: 10px">
            统计信息
            <p>
              正确率(包括error): <span id="accuracy"></span> 不包括<span
                id="accuracy2"
              ></span> Error当做Unknown<span
              id="accuracy3"
            ></span>
            </p>
            <p>标签Error数量: <span id="errorCount"></span></p>
          </div>
          <table id="demo" lay-filter="test"></table>
        </div>
      </div>
    </div>
  </div>

  <div class="layui-row">
    <!-- 图表容器 -->
    <div style="height: 30%; width: 30%; text-align: center">
      <canvas id="myChart"></canvas>
    </div>
  </div>
</div>
<!-- 工具条的HTML模板定义 -->
<script type="text/html" id="barDemo">
  <a class="layui-btn layui-btn-xs" lay-event="detail">详情</a>
</script>

<script src="./static/index.js"></script>

{% endblock %}
